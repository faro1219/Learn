
\usepackage{xcolor}
\usepackage{tcolorbox}
\usepackage{comment} % enables the use of multi-line comments (\ifx \fi) 
\usepackage{lipsum}
\usepackage{fullpage} 
\usepackage[margin=1in]{geometry} 
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{thmtools}
\usepackage{bm}
\usepackage{enumitem}  
\usepackage{stackrel}
\usepackage{mathtools}
\usepackage{mathrsfs}
\usepackage{dsfont}
\usepackage{float}
\usepackage{graphicx}
\usepackage{natbib}
\usepackage{subfigure}
\usepackage{hyperref}
\usepackage{pgfplots}
\usetikzlibrary{backgrounds}
\pgfplotsset{width=7cm,compat=1.9}
\usepackage{tikz-cd} 

%% Title Setting
\newcommand\subtitle[1]{\def \@subtitle{#1}}
\newcommand\lecturer[1]{\def \@lecturer{#1}}
\renewcommand\maketitle
  {\vspace{-2em}
  \hrule
  \vspace{1em}
  \noindent
   {\Huge\bfseries\@title \hfill}%
   \medskip\par\noindent
   \@ifundefined{@subtitle}{}
   {\noindent
   {\huge\bfseries\@subtitle \hfill}
   
   \vspace{1em}
   }
   \medskip\par {\noindent
   {\large{Lecturer:} \large\bfseries\@lecturer \hfill}}%
   \vspace{-0.4em}
   \medskip\par {\noindent
   {\large{Subscribes:} \large\bfseries\@author \hfill}}%
   \vspace{-0.4em}
   \medskip\par \noindent
   {\large\@date \hfill}%
   \bigskip\par\noindent
   \hrule
   \vspace{1em}
  }

%% Section settings
\newcommand{\mysection}[2]{\setcounter{section}{#1}\addtocounter{section}{-1}\section{Lecture #1: #2}}
\renewcommand{\@seccntformat}[1]{%
  \ifcsname prefix@#1\endcsname
    \csname prefix@#1\endcsname
  \else
    \csname the#1\endcsname\quad
  \fi}
% define \prefix@section
\newcommand\prefix@section{}
\makeatother

%% Hyperlink settings
\hypersetup{
colorlinks,
linkcolor={red!50!black},
citecolor={blue!50!black},
urlcolor={blue!80!black}
}

%% Mathcal commends
\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cJ}{\mathcal{J}}
\newcommand{\cK}{\mathcal{K}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}}
\newcommand{\cR}{\mathcal{R}}
\newcommand{\cS}{\mathcal{S}}
\newcommand{\cT}{\mathcal{T}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\cW}{\mathcal{W}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\cZ}{\mathcal{Z}}

%% Mathbb commends
\newcommand{\BB}{\mathbb{B}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\DD}{\mathbb{D}}
\newcommand{\EE}{\mathbb{E}}
\newcommand{\FF}{\mathbb{F}}
\newcommand{\GG}{\mathbb{G}}
\newcommand{\HH}{\mathbb{H}}
\newcommand{\II}{\mathbb{I}}
\newcommand{\JJ}{\mathbb{J}}
\newcommand{\KK}{\mathbb{K}}
\newcommand{\LL}{\mathbb{L}}
\newcommand{\MM}{\mathbb{M}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\OO}{\mathbb{O}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\TT}{\mathbb{T}}
\newcommand{\UU}{\mathbb{U}}
\newcommand{\VV}{\mathbb{V}}
\newcommand{\WW}{\mathbb{W}}
\newcommand{\XX}{\mathbb{X}}
\newcommand{\YY}{\mathbb{Y}}
\newcommand{\ZZ}{\mathbb{Z}}

%% Mathbf commends
\newcommand{\Ab}{\mathbf{A}}
\newcommand{\Bb}{\mathbf{B}}
\newcommand{\Cb}{\mathbf{C}}
\newcommand{\Db}{\mathbf{D}}
\newcommand{\Eb}{\mathbf{E}}
\newcommand{\Fb}{\mathbf{F}}
\newcommand{\Gb}{\mathbf{G}}
\newcommand{\Hb}{\mathbf{H}}
\newcommand{\Ib}{\mathbf{I}}
\newcommand{\Jb}{\mathbf{J}}
\newcommand{\Kb}{\mathbf{K}}
\newcommand{\Lb}{\mathbf{L}}
\newcommand{\Mb}{\mathbf{M}}
\newcommand{\Nb}{\mathbf{N}}
\newcommand{\Ob}{\mathbf{O}}
\newcommand{\Pb}{\mathbf{P}}
\newcommand{\Qb}{\mathbf{Q}}
\newcommand{\Rb}{\mathbf{R}}
\newcommand{\Sbb}{\mathbf{S}}
\newcommand{\Tb}{\mathbf{T}}
\newcommand{\Ub}{\mathbf{U}}
\newcommand{\Vb}{\mathbf{V}}
\newcommand{\Wb}{\mathbf{W}}
\newcommand{\Xb}{\mathbf{X}}
\newcommand{\Yb}{\mathbf{Y}}
\newcommand{\Zb}{\mathbf{Z}}
\newcommand{\ab}{\mathbf{a}}
\newcommand{\bbb}{\mathbf{b}}
\newcommand{\cbb}{\mathbf{c}}
\newcommand{\db}{\mathbf{d}}
\newcommand{\eb}{\mathbf{e}}
\newcommand{\fb}{\mathbf{f}}
\newcommand{\gb}{\mathbf{g}}
\newcommand{\hb}{\mathbf{h}}
\newcommand{\ib}{\mathbf{i}}
\newcommand{\jb}{\mathbf{j}}
\newcommand{\kb}{\mathbf{k}}
\newcommand{\lb}{\mathbf{l}}
\newcommand{\mb}{\mathbf{m}}
\newcommand{\nbb}{\mathbf{n}}
\newcommand{\ob}{\mathbf{o}}
\newcommand{\pb}{\mathbf{p}}
\newcommand{\qb}{\mathbf{q}}
\newcommand{\rb}{\mathbf{r}}
\newcommand{\sbb}{\mathbf{s}}
\newcommand{\tb}{\mathbf{t}}
\newcommand{\ub}{\mathbf{u}}
\newcommand{\vb}{\mathbf{v}}
\newcommand{\wb}{\mathbf{w}}
\newcommand{\xb}{\mathbf{x}}
\newcommand{\yb}{\mathbf{y}}
\newcommand{\zb}{\mathbf{z}}

%% Enumerate settings
\setenumerate[1]{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}  
\setitemize[1]{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}  
\setdescription{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}  

%% Colors
\definecolor{lbrown}{HTML}{FEFCFB}
\definecolor{mbrown}{HTML}{F8F1EA}
\definecolor{dbrown}{HTML}{964007}
\definecolor{lgreen}{HTML}{F0F7F3}
\definecolor{dgreen}{HTML}{009956}
\definecolor{llblue}{HTML}{FDFDFE}
\definecolor{lblue}{HTML}{F0F4FA}
\definecolor{dblue}{HTML}{006EB8}

%% Theorem styles
\declaretheoremstyle[
  headfont=\color{dbrown}\sffamily\bfseries,
  bodyfont=\color{black}\normalfont,
  mdframed={
    linewidth=2pt,
    rightline=false, topline=false, bottomline=false,
    linecolor=dbrown, backgroundcolor=mbrown,
  }
]{coloredthm}

\declaretheoremstyle[
  headfont=\color{dbrown}\sffamily\bfseries,
  bodyfont=\color{black}\normalfont,
  mdframed={
    linewidth=2pt,
    rightline=false, topline=false, bottomline=false,
    linecolor=dbrown, backgroundcolor=lbrown,
  }
]{coloredproof}

\declaretheoremstyle[
  headfont=\color{dblue}\sffamily\bfseries,
  bodyfont=\color{black}\normalfont,
  mdframed={
    linewidth=2pt,
    rightline=false, topline=false, bottomline=false,
    linecolor=dblue, backgroundcolor=llblue,
  }
]{coloredexplanation}

\declaretheoremstyle[
  headfont=\color{dgreen}\sffamily\bfseries,
  bodyfont=\color{black}\normalfont,
  mdframed={
    linewidth=2pt,
    rightline=false, topline=false, bottomline=false,
    linecolor=dgreen, backgroundcolor=lgreen,
  }
]{coloreddef}

\declaretheoremstyle[
  headfont=\color{dblue}\sffamily\bfseries,
  bodyfont=\color{black}\normalfont,
  mdframed={
    linewidth=2pt,
    rightline=false, topline=false, bottomline=false,
    linecolor=dblue, backgroundcolor=lblue,
  }
]{coloredeg}

\declaretheoremstyle[
  headfont=\color{dblue}\sffamily\bfseries,
  bodyfont=\color{black}\normalfont,
  mdframed={
    linewidth=2pt,
    rightline=false, topline=false, bottomline=false,
    linecolor=dblue, backgroundcolor=white,
  }
]{coloredremark}

%% Theorem formats
\declaretheorem[
  style=coloredthm,
  name=Theorem,
  numberwithin=section,
]{theorem}
\declaretheorem[
  style=coloredthm,
  name=Proposition,
  sibling=theorem,
]{proposition}
\declaretheorem[
  style=coloredthm,
  name=Lemma,
  sibling=theorem,
]{lemma}
\declaretheorem[
  style=coloredthm,
  name=Corollary,
  sibling=theorem,
]{corollary}
\declaretheorem[
  style=coloredproof,
  name=Proof,
  numbered=no,
]{replacementproof}
\renewenvironment{proof}[1][\proofname]{\vspace{-10pt}\begin{replacementproof}}{\end{replacementproof}}
\declaretheorem[
  style=coloreddef,
  name=Definition,
  sibling=theorem,
]{definition}
\declaretheorem[
    style=coloredexplanation,
  name=Proof,
  numbered=no,
]
{explain}
\newenvironment{explanation}[1][\proofname]{\vspace{-15pt}\begin{explain}}{\end{explain}}
\declaretheorem[
  style=coloredeg,
  name=Example,
  sibling=theorem,
]{example}
\declaretheorem[
  style=coloredremark,
  name=Remark,
  numbered = no,
]{remark}
\declaretheorem[
  style=coloredremark,
  name=Note,
  numbered = no,
]{note}
\declaretheorem[
  style=coloredeg,
  name=Conjecture,
  sibling=theorem,
]{conjecture}

% \tcbuselibrary{breakable}
% \newenvironment{verbetering}{\begin{tcolorbox}[
%     arc=0mm,
%     colback=white,
%     colframe=green!60!black,
%     title=Opmerking,
%     fonttitle=\sffamily,
%     breakable
% ]}{\end{tcolorbox}}


%% Other Settings
\newcommand{\argmin}{\mathop{\mathrm{argmin}}}
\newcommand{\argmax}{\mathop{\mathrm{argmax}}}
\newcommand{\minimize}{\mathop{\mathrm{minimize}}}
\newcommand{\sign}{\mathop{\mathrm{sign}}}
\newcommand{\tr}{\mathop{\mathrm{tr}}}
\newcommand*{\zero}{{\bm 0}}
\newcommand*{\one}{{\bm 1}}
\newcommand{\smallfrac}[2]{{\textstyle \frac{#1}{#2}}}  
\newcommand{\diag}{{\rm diag}}
\newcommand*{\op}[1]{\|#1\|_{\mathrm{op}}}
\newcommand*{\frob}[1]{\|#1\|_{\mathrm{F}}}
\newcommand*{\two}[1]{\|#1\|_{2}}
\newcommand{\Exp}{\text{Exp}}

\newcommand{\wc}[1]{{\textcolor{red}{[\textbf{Will:} #1]}}}

\DeclareMathOperator{\Var}{{\rm Var}}

\DeclareMathOperator{\supp}{{\rm supp}}
\DeclareMathOperator{\im}{{\rm Im}}
\DeclareMathOperator{\Cor}{\rm Corr}
\DeclareMathOperator{\Cov}{\rm Cov}
\DeclareMathOperator{\ind}{\mathds{1}}  % Indicator
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Chara}{char}
\DeclareMathOperator{\con}{C}
\DeclareMathOperator{\Lip}{Lip}
\DeclareMathOperator{\Supp}{supp}


                                                        